{% extends "base.html" %}
{% load static %}

{% block title %}Blog | IA aplicada a operaciones, ERP/CRM y decisiones{% endblock %}

{% block extra_head %}
<meta name="description" content="Artículos y guías prácticas: extracción documental, IA en ERP/CRM, chatbots internos, y ROI de automatización."/>
<script type="application/ld+json">{
  "@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[
    {"@type":"ListItem","position":1,"name":"Inicio","item":"{% url 'website:home' %}"},
    {"@type":"ListItem","position":2,"name":"Blog","item":"{% url 'blog:blog_index' %}"}
  ]}
</script>
{% endblock %}

{% block content %}
<section class="max-w-6xl mx-auto px-4 py-12">
  <h1 class="text-4xl font-extrabold">Blog</h1>
  <form method="get" class="mt-4 flex gap-3">
    <input name="q" value="{{ request.GET.q }}" class="form-input" placeholder="Buscar artículos…">
    <button class="btn btn-primary">Buscar</button>
  </form>
  <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for post in posts %}
    <article class="rounded-2xl border bg-white overflow-hidden shadow-sm">
      <a href="{% url 'blog:blog_post' post.slug %}" class="block">
        <img src="{{ post.cover_url }}" alt="{{ post.title }}" class="aspect-video w-full object-cover">
        <div class="p-4">
          <h2 class="font-bold">{{ post.title }}</h2>
          <p class="text-sm opacity-80">{{ post.excerpt }}</p>
          <span class="text-xs opacity-60">{{ post.published_at|date:"d M Y" }}</span>
        </div>
      </a>
    </article>
    {% empty %}
      <p>No hay artículos aún.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}