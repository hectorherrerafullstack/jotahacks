{% extends "base.html" %}
{% load static %}

{% block title %}Contacto | Agenda 15 minutos{% endblock %}

{% block extra_head %}
<meta name="description" content="Cuéntame tu reto y agenda una evaluación inicial de 15 minutos."/>
{% endblock %}

{% block content %}
<section class="max-w-4xl mx-auto px-4 py-12">
  <h1 class="text-4xl font-extrabold">Contacto</h1>
  <p class="mt-2">Cuéntame brevemente tu reto. Respondo rápido.</p>
  <form method="post" action="{% url 'contacto' %}" class="mt-6 grid gap-4 rounded-2xl border bg-white p-6" id="contact-form">
    {% csrf_token %}
    <label class="block">
      <span class="text-sm font-semibold">Nombre</span>
      <input name="nombre" class="form-input" required>
    </label>
    <label class="block">
      <span class="text-sm font-semibold">Email</span>
      <input type="email" name="email" class="form-input" required>
    </label>
    <label class="block">
      <span class="text-sm font-semibold">Web (opcional)</span>
      <input name="web" class="form-input" placeholder="https://…">
    </label>
    <label class="block">
      <span class="text-sm font-semibold">Reto</span>
      <textarea name="reto" rows="5" class="form-textarea" placeholder="¿Qué quieres automatizar?" required></textarea>
    </label>
    <button class="btn btn-primary w-full" type="submit" data-ga4-event="contact_submit">Enviar</button>
  </form>

  <div id="agenda" class="mt-10">
    <h2 class="text-2xl font-bold">Agenda 15 minutos</h2>
    <p class="opacity-80">Reserva una llamada rápida para evaluar el encaje.</p>
    <!-- Placeholder de calendario (Inserta tu embed de Calendly u otro) -->
    <div class="mt-4 rounded-2xl border bg-white p-4">
      <p class="text-sm">Inserta aquí el calendario (Calendly/Cal.com).</p>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
  document.getElementById('contact-form')?.addEventListener('submit',()=>{
    window.gtag && gtag('event','contact_submit');
  });
</script>
{% endblock %}