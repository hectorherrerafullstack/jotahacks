{% extends "base.html" %}
{% load static %}

{% block title %}Contacto · Hablemos de tu proyecto{% endblock %}
{% block meta_description %}Cuéntame tu proyecto con este formulario breve. Respondo en menos de 24 horas hábiles.
Privacidad y trato directo.{% endblock %}

{% block extra_head %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&family=Poppins:wght@700;800&display=swap"
  rel="stylesheet">
<style>
  :root {
    --primary-color: #4f46e5;
  }

  .hero-title {
    font-family: 'Manrope', sans-serif;
  }

  .hero-lead {
    font-family: 'Manrope', sans-serif;
  }

  .about-card {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .04);
    backdrop-filter: blur(6px);
    box-shadow: 0 8px 26px rgba(0, 0, 0, .22);
  }

  .cta-btn.cta-primary {
    position: relative;
    padding: .875rem 1.5rem;
    border-radius: 9999px;
    font-weight: 700;
    background: var(--primary-color);
    color: #fff;
    box-shadow: 0 10px 30px rgba(79, 70, 229, .35);
    transition: transform .2s ease, box-shadow .2s ease;
  }

  .cta-btn.cta-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 16px 40px rgba(79, 70, 229, .5);
  }
</style>
{% endblock %}

{% block content %}
<section class="max-w-6xl mx-auto py-10 sm:py-14">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-10 md:gap-12 items-start">

<!-- Beneficios (desktop) -->
<!-- Beneficios (desktop) -->
<div class="mt-8 hidden md:block space-y-6 text-left">
  <div class="flex items-start gap-4">
    <span class="w-12 h-12 rounded-full bg-white/5 ring-1 ring-white/15 grid place-items-center mt-0.5 shrink-0">
      <i data-lucide="check-circle" class="w-7 h-7 text-white [stroke-width:2.6]"></i>
    </span>
    <div class="flex-1">
      <h3 class="font-semibold text-white text-left">Respuesta en menos de 24&nbsp;h</h3>
      <p class="text-[15px] text-gray-300/95 text-left">
        Ese mismo día laborable te envío una primera valoración clara: tareas, requisitos y siguiente paso concreto.
      </p>
    </div>
  </div>

  <div class="flex items-start gap-4">
    <span class="w-12 h-12 rounded-full bg-white/5 ring-1 ring-white/15 grid place-items-center mt-0.5 shrink-0">
      <i data-lucide="lock" class="w-7 h-7 text-white [stroke-width:2.6]"></i>
    </span>
    <div class="flex-1">
      <h3 class="font-semibold text-white text-left">Confidencialidad real</h3>
      <p class="text-[15px] text-gray-300/95 text-left">
        Solo yo leo tu mensaje. Si quieres, firmamos NDA. Cumplo RGPD y puedes pedirme borrar tus datos cuando quieras.
      </p>
    </div>
  </div>

  <div class="flex items-start gap-4">
    <span class="w-12 h-12 rounded-full bg-white/5 ring-1 ring-white/15 grid place-items-center mt-0.5 shrink-0">
      <i data-lucide="coffee" class="w-7 h-7 text-white [stroke-width:2.6]"></i>
    </span>
    <div class="flex-1">
      <h3 class="font-semibold text-white text-left">Primera toma sin compromiso</h3>
      <p class="text-[15px] text-gray-300/95 text-left">
        Empezamos con una llamada breve para entender tu objetivo. Si no encaja, te lo digo y te propongo alternativas.
      </p>
    </div>
  </div>
</div>


    <!-- Derecha: formulario -->
    <div class="w-full h-full">
      <div
        class="about-card relative overflow-hidden bg-gray-900/60 border border-white/10 rounded-2xl p-5 sm:p-6 shadow-[0_8px_24px_rgba(0,0,0,.35)]">



        <form id="contact-form" method="post" action="{% url 'website:contacto' %}" novalidate class="space-y-4">
          {% csrf_token %}

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div class="relative">
              <i data-lucide="user"
                class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300 pointer-events-none [stroke-width:2.2]"></i>
              <input id="name" name="name" type="text" required placeholder="Nombre" autocomplete="name"
                value="{{ form.name.value|default_if_none:'' }}" aria-invalid="false"
                class="w-full bg-gray-800/70 text-white rounded-md pl-10 pr-3 py-3 outline-none focus:ring-2 ring-indigo-500/70 border border-white/10 transition-all">
              <p class="mt-1 text-sm text-red-300 js-error" data-field="name" hidden></p>
            </div>

            <div class="relative">
              <i data-lucide="phone"
                class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300 pointer-events-none [stroke-width:2.2]"></i>
              <input id="phone" name="phone" type="tel" required placeholder="Teléfono" autocomplete="tel"
                value="{{ form.phone.value|default_if_none:'' }}" aria-invalid="false"
                class="w-full bg-gray-800/70 text-white rounded-md pl-10 pr-3 py-3 outline-none focus:ring-2 ring-indigo-500/70 border border-white/10 transition-all">
              <p class="mt-1 text-sm text-red-300 js-error" data-field="phone" hidden></p>
            </div>

            <div class="relative sm:col-span-2">
              <i data-lucide="building-2"
                class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300 pointer-events-none [stroke-width:2.2]"></i>
              <input id="company" name="company" type="text" placeholder="Empresa (Opcional)"
                autocomplete="organization" value="{{ form.company.value|default_if_none:'' }}" aria-invalid="false"
                class="w-full bg-gray-800/70 text-white rounded-md pl-10 pr-3 py-3 outline-none focus:ring-2 ring-indigo-500/70 border border-white/10 transition-all">
              <p class="mt-1 text-sm text-red-300 js-error" data-field="company" hidden></p>
            </div>

            <div class="relative sm:col-span-2">
              <i data-lucide="briefcase"
                class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300 pointer-events-none [stroke-width:2.2]"></i>
              <input id="sector" name="sector" type="text" placeholder="Sector (Ej: Retail, Salud, Logística)"
                value="{{ form.sector.value|default_if_none:'' }}" aria-invalid="false"
                class="w-full bg-gray-800/70 text-white rounded-md pl-10 pr-3 py-3 outline-none focus:ring-2 ring-indigo-500/70 border border-white/10 transition-all">
              <p class="mt-1 text-sm text-red-300 js-error" data-field="sector" hidden></p>
            </div>
          </div>

          <div>
            <label for="message" class="sr-only">Mensaje</label>
            <textarea id="message" name="message" rows="4" required
              class="w-full bg-gray-800/70 text-white rounded-xl px-4 py-2 outline-none focus:ring-2 ring-indigo-500/70 border border-white/10 transition-all resize-none h-28"
              placeholder="Cuéntame sobre tu proyecto (qué quieres lograr, contexto actual y objetivo)."
              aria-invalid="false">{{ form.message.value|default_if_none:'' }}</textarea>
            <p class="mt-1 text-sm text-red-300 js-error" data-field="message" hidden></p>
          </div>


          <!-- Honeypot anti-spam (mantener vacío) -->
          <input type="text" name="website" tabindex="-1" autocomplete="off" class="hidden" style="display:none;">

          <div class="flex flex-col items-stretch gap-3 pt-1">
            <button type="submit" class="cta-btn cta-primary w-full py-2.5 text-base">Enviar mensaje</button>
            <p class="text-[11px] text-gray-400/80 text-center">Tus datos están protegidos. Reviso cada consulta
              personalmente.</p>
          </div>

          {# Aviso global debajo del botón (éxito / error) #}
          <div id="form-alert" class="mt-3" role="status" aria-live="polite" tabindex="-1"></div>
        </form>
      </div>
    </div>

  </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/contact.js' %}"></script>
{% endblock %}